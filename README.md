<div align="center">

<h1 align="center">
  <img src="./public/logo.png" alt="PType Logo" width="48" height="48" style="vertical-align: bottom; margin-right: 10px;">
  PType
</h1>
<p align="center">
  <strong>ä¸“ä¸ºå¼€å‘è€…æ‰“é€ çš„ç»ˆææ‰“å­—ç»ƒä¹ å¹³å°</strong>
</p>

[English](./README_EN.md) | [ç®€ä½“ä¸­æ–‡](./README.md)

[![License](https://img.shields.io/github/license/anYuJia/ptype?style=flat-square&color=blue)](LICENSE)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue?style=flat-square&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![React](https://img.shields.io/badge/React-19.0-61DAFB?style=flat-square&logo=react&logoColor=black)](https://react.dev/)
[![Next.js](https://img.shields.io/badge/Next.js-16.0-black?style=flat-square&logo=next.js&logoColor=white)](https://nextjs.org/)
[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg?style=flat-square)](http://makeapullrequest.com)
[![GitHub stars](https://img.shields.io/github/stars/anYuJia/ptype?style=flat-square&color=yellow)](https://github.com/anYuJia/ptype/stargazers)

<br/>

**[åœ¨çº¿æ¼”ç¤º](#) Â· [æŠ¥å‘Š Bug](https://github.com/anYuJia/ptype/issues) Â· [è¯·æ±‚åŠŸèƒ½](https://github.com/anYuJia/ptype/issues)**

</div>

---

## ğŸ“– ç›®å½•

- [âœ¨ é¡¹ç›®äº®ç‚¹](#-é¡¹ç›®äº®ç‚¹)
- [ğŸ“¸ ç•Œé¢é¢„è§ˆ](#-ç•Œé¢é¢„è§ˆ)
- [ğŸš€ æ ¸å¿ƒç‰¹æ€§](#-æ ¸å¿ƒç‰¹æ€§)
- [ğŸ› ï¸ æŠ€æœ¯æ ˆ](#ï¸-æŠ€æœ¯æ ˆ)
- [ğŸ’» ä»£ç åº“æ”¯æŒ](#-ä»£ç åº“æ”¯æŒ)
- [ğŸ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [ğŸ” å®‰å…¨æœºåˆ¶](#-å®‰å…¨æœºåˆ¶)
- [ğŸ¤ å‚ä¸è´¡çŒ®](#-å‚ä¸è´¡çŒ®)
- [ğŸ“„ è®¸å¯è¯](#-è®¸å¯è¯)
- [ğŸŒŸ Star History](#-star-history)

---

## âœ¨ é¡¹ç›®äº®ç‚¹

PType ä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ‰“å­—ç»ƒä¹ å·¥å…·ï¼Œå®ƒæ˜¯ä¸ºäº†**æå‡å¼€å‘è€…ç”Ÿäº§åŠ›**è€Œç”Ÿçš„è®­ç»ƒåœºã€‚

- ğŸ¯ **æè‡´ä½“éªŒ**ï¼šåŸºäº React 19 å’Œ Framer Motion æ‰“é€ çš„ä¸æ»‘åŠ¨ç”»ä¸å“åº”å¼è®¾è®¡ã€‚
- ğŸŒ **å¤šè¯­è¨€æ”¯æŒ**ï¼šä¸ä»…æ”¯æŒè‹±æ–‡ã€ä¸­æ–‡ï¼ˆç°ä»£/æ–‡è¨€ï¼‰ï¼Œæ›´åŸç”Ÿæ”¯æŒ 10+ ç§ç¼–ç¨‹è¯­è¨€ã€‚
- ğŸ“Š **ä¸“ä¸šåˆ†æ**ï¼šç»Ÿä¸€ä½¿ç”¨ CPM (Characters Per Minute) ä½œä¸ºæ ¸å¿ƒæŒ‡æ ‡ï¼Œæä¾› WPMã€å‡†ç¡®ç‡çƒ­åŠ›å›¾ç­‰å¤šç»´åº¦æ•°æ®åˆ†æã€‚
- ğŸ† **ç«æŠ€æ’è¡Œ**ï¼šå†…ç½®å…¨çƒæ’è¡Œæ¦œä¸ä¸ªäººå†å²è®°å½•ï¼Œå®æ—¶ç›‘æ§ä½ çš„æˆé•¿æ›²çº¿ã€‚
- ğŸ” **è¯·æ±‚ç­¾å**ï¼šå†…ç½®å¤šå±‚åŠ å¯†ç­¾åæœºåˆ¶ï¼Œé˜²æ­¢ API æ»¥ç”¨å’Œè‡ªåŠ¨åŒ–æ”»å‡»ã€‚
- ğŸŒ **å›½é™…åŒ–**ï¼šå®Œæ•´çš„ä¸­è‹±æ–‡ç•Œé¢æ”¯æŒï¼ŒåŸºäº next-intl å®ç°ã€‚

---

## ğŸ“¸ ç•Œé¢é¢„è§ˆ

<div align="center">
  <img src="./screenshots/code-mode.png" alt="Code Mode" width="800" style="border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
  <p><i>ç¨‹åºå‘˜æ¨¡å¼ - æ²‰æµ¸å¼ä»£ç ç»ƒä¹ ä½“éªŒ</i></p>
</div>

<details>
<summary><b>æŸ¥çœ‹æ›´å¤šæˆªå›¾</b></summary>
<br>
<table width="100%">
  <tr>
    <td width="50%" align="center"><b>è‹±æ–‡æ¨¡å¼</b><br><img src="./screenshots/english-mode.png" alt="English Mode"></td>
    <td width="50%" align="center"><b>ä¸­æ–‡æ¨¡å¼</b><br><img src="./screenshots/chinese-mode.png" alt="Chinese Mode"></td>
  </tr>
  <tr>
    <td colspan="2" align="center"><b>è¯¦ç»†ç»Ÿè®¡é¢æ¿</b><br><img src="./screenshots/result.png" alt="Statistics"></td>
  </tr>
</table>
</details>

---

## ğŸš€ æ ¸å¿ƒç‰¹æ€§

### 1. ä¸‰å¤§ç»ƒä¹ æ¨¡å¼

| æ¨¡å¼ | æè¿° | é€‚ç”¨åœºæ™¯ |
| :--- | :--- | :--- |
| **ğŸ“ è‹±æ–‡æ¨¡å¼** | ç»å…¸å•è¯ç»ƒä¹ ï¼Œæ”¯æŒæ ‡ç‚¹ã€å¤§å°å†™æ•æ„Ÿ | æå‡æ—¥å¸¸è‹±æ–‡è¾“å…¥é€Ÿåº¦ |
| **ğŸ‡¨ğŸ‡³ ä¸­æ–‡æ¨¡å¼** | ç°ä»£æ–‡ã€å¤æ–‡ï¼ˆè®ºè¯­ã€é“å¾·ç»ï¼‰ | ä½“éªŒä¸­åæ–‡åŒ–ï¼Œæå‡ä¸­æ–‡æ‰“å­— |
| **ğŸ’» ç¨‹åºå‘˜æ¨¡å¼** | çœŸå®ä»£ç ç‰‡æ®µã€Linux å‘½ä»¤ã€ç®—æ³•é¢˜ | **å¼€å‘è€…å¿…å¤‡**ï¼Œæå‡ Coding æ•ˆç‡ |

### 2. æ™ºèƒ½æ•°æ®åˆ†æ

- **CPM (Characters Per Minute)**: å…¨å±€æ ¸å¿ƒé€Ÿåº¦æŒ‡æ ‡ï¼Œç»Ÿä¸€è¡¡é‡ä¸­è‹±æ–‡åŠä»£ç è¾“å…¥æ•ˆç‡ã€‚
- **WPM (Words Per Minute)**: è‹±æ–‡æ¨¡å¼è¾…åŠ©å‚è€ƒæŒ‡æ ‡ã€‚
- **å‡†ç¡®ç‡çƒ­åŠ›å›¾**: è¯†åˆ«ä½ çš„é«˜é¢‘é”™è¯¯æŒ‰é”®ã€‚
- **å†å²å›æº¯**: å®Œæ•´çš„ç»ƒä¹ å†å²è®°å½•ä¸è¶‹åŠ¿åˆ†æã€‚

### 3. ç”¨æˆ·ä¸ç¤¾äº¤

- **è´¦å·ç³»ç»Ÿ**: å®Œæ•´çš„æ³¨å†Œç™»å½•æµç¨‹ï¼ŒJWT è®¤è¯ï¼Œæ•°æ®äº‘ç«¯å­˜å‚¨ã€‚
- **æ’è¡Œæ¦œ**: å®æ—¶æ›´æ–°çš„å…¨çƒé€Ÿåº¦æ’è¡Œï¼Œæ¿€å‘ç»ƒä¹ åŠ¨åŠ›ã€‚
- **è‡ªå®šä¹‰æ–‡æœ¬**: æ”¯æŒç”¨æˆ·ä¸Šä¼ è‡ªå·±çš„ç»ƒä¹ æ–‡æœ¬ã€‚

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

æœ¬é¡¹ç›®é‡‡ç”¨ç°ä»£åŒ–çš„å…¨æ ˆæŠ€æœ¯æ„å»ºï¼Œç¡®ä¿é«˜æ€§èƒ½ä¸å¯ç»´æŠ¤æ€§ã€‚

| é¢†åŸŸ | æŠ€æœ¯é€‰å‹ |
| :--- | :--- |
| **æ ¸å¿ƒæ¡†æ¶** | ![React](https://img.shields.io/badge/-React_19-20232A?logo=react&logoColor=61DAFB) ![Next.js](https://img.shields.io/badge/-Next.js_16-000000?logo=next.js&logoColor=white) ![TypeScript](https://img.shields.io/badge/-TypeScript-3178C6?logo=typescript&logoColor=white) |
| **æ ·å¼ä¸åŠ¨ç”»** | ![TailwindCSS](https://img.shields.io/badge/-TailwindCSS_v4-38B2AC?logo=tailwind-css&logoColor=white) ![Framer Motion](https://img.shields.io/badge/-Framer_Motion-0055FF?logo=framer&logoColor=white) |
| **åç«¯ä¸æ•°æ®** | ![Prisma](https://img.shields.io/badge/-Prisma-2D3748?logo=prisma&logoColor=white) ![PostgreSQL](https://img.shields.io/badge/-PostgreSQL-4169E1?logo=postgresql&logoColor=white) |
| **çŠ¶æ€ç®¡ç†** | ![Zustand](https://img.shields.io/badge/-Zustand-443E38?logo=react&logoColor=white) |
| **å›¾è¡¨å¯è§†åŒ–** | ![Recharts](https://img.shields.io/badge/-Recharts-22b5bf?logo=react&logoColor=white) |
| **å›½é™…åŒ–** | ![next-intl](https://img.shields.io/badge/-next--intl-000000?logo=next.js&logoColor=white) |
| **è®¤è¯å®‰å…¨** | ![JWT](https://img.shields.io/badge/-JWT-000000?logo=json-web-tokens&logoColor=white) ![HMAC](https://img.shields.io/badge/-HMAC--SHA256-blue) |

---

## ğŸ’» ä»£ç åº“æ”¯æŒ

PType å†…ç½®äº†ä¸°å¯Œçš„ä»£ç ç»ƒä¹ åº“ï¼Œæ¶µç›–ä¸»æµè¯­è¨€ä¸å·¥å…·ï¼š

<div align="center">

![Python](https://img.shields.io/badge/-Python-3776AB?logo=python&logoColor=white)
![JavaScript](https://img.shields.io/badge/-JavaScript-F7DF1E?logo=javascript&logoColor=black)
![TypeScript](https://img.shields.io/badge/-TypeScript-3178C6?logo=typescript&logoColor=white)
![Java](https://img.shields.io/badge/-Java-007396?logo=java&logoColor=white)
![Go](https://img.shields.io/badge/-Go-00ADD8?logo=go&logoColor=white)
![C++](https://img.shields.io/badge/-C++-00599C?logo=c%2B%2B&logoColor=white)
![Rust](https://img.shields.io/badge/-Rust-000000?logo=rust&logoColor=white)
![HTML5](https://img.shields.io/badge/-HTML5-E34F26?logo=html5&logoColor=white)
![PowerShell](https://img.shields.io/badge/-PowerShell-5391FE?logo=powershell&logoColor=white)
![Bash](https://img.shields.io/badge/-Bash-4EAA25?logo=gnu-bash&logoColor=white)

</div>

> **ç‰¹è‰²å†…å®¹**ï¼šåŒ…å« LeetCode çƒ­é—¨ç®—æ³•é¢˜ï¼ˆä¸¤æ•°ä¹‹å’Œã€LRU ç¼“å­˜ç­‰ï¼‰å’ŒçœŸå®åœºæ™¯çš„ç³»ç»Ÿè¿ç»´å‘½ä»¤ã€‚

---

## ğŸ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Node.js**: >= 18.0.0
- **npm / pnpm / yarn**: åŒ…ç®¡ç†å™¨
- **PostgreSQL**: >= 14.0 ([ä¸‹è½½ä¸å®‰è£…æ•™ç¨‹](https://www.postgresql.org/download/))

### å®‰è£…æ­¥éª¤

1. **å…‹éš†ä»“åº“**

```bash
git clone --depth 1 https://github.com/anYuJia/ptype.git
cd ptype
```

2. **å®‰è£…ä¾èµ–**

```bash
npm install
# æˆ–è€…ä½¿ç”¨ pnpm / yarn
pnpm install
```

3. **é…ç½®ç¯å¢ƒå˜é‡**

å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿å¹¶ä¿®æ”¹é…ç½®ï¼š

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```env
# æ•°æ®åº“è¿æ¥
DATABASE_URL="postgresql://user:password@localhost:5432/ptype?schema=public"

# JWT å¯†é’¥ï¼ˆç”¨äºç”¨æˆ·è®¤è¯ï¼Œè¯·ä½¿ç”¨å¼ºéšæœºå­—ç¬¦ä¸²ï¼‰
JWT_SECRET="your-jwt-secret-key"

# ç­¾åå¯†é’¥ï¼ˆç”¨äºè¯·æ±‚ç­¾åéªŒè¯ï¼Œè¯·ä½¿ç”¨å¼ºéšæœºå­—ç¬¦ä¸²ï¼‰
SIGNATURE_SECRET="your-signature-secret-key"

# Cookie å®‰å…¨è®¾ç½®
# HTTPS ç¯å¢ƒä¿æŒ trueï¼ˆé»˜è®¤ï¼‰
# HTTP ç¯å¢ƒï¼ˆæ—  SSLï¼‰å¿…é¡»è®¾ç½®ä¸º falseï¼Œå¦åˆ™ç™»å½•åæ— æ³•ä¿æŒä¼šè¯
SECURE_COOKIES=true
```

> âš ï¸ **æ³¨æ„**ï¼šå¦‚æœä½ çš„æœåŠ¡å™¨æ²¡æœ‰é…ç½® HTTPSï¼Œå¿…é¡»å°† `SECURE_COOKIES` è®¾ç½®ä¸º `false`ï¼Œå¦åˆ™ç™»å½•åçš„ Cookie æ— æ³•æ­£å¸¸å·¥ä½œã€‚

4. **åˆå§‹åŒ–æ•°æ®åº“**

> **æç¤º**ï¼šå¦‚æœé‡åˆ° Prisma å¼•æ“ä¸‹è½½å¤±è´¥ï¼Œè¯·å…ˆè®¾ç½®é•œåƒï¼š
> ```bash
> export PRISMA_ENGINES_MIRROR="https://registry.npmmirror.com/-/binary/prisma"
> ```

```bash
npx prisma generate
npx prisma db push
```

5. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**

```bash
npm run dev
```

æ‰“å¼€æµè§ˆå™¨è®¿é—® [http://localhost:3000](http://localhost:3000) å³å¯å¼€å§‹ä½“éªŒï¼

### ç”Ÿäº§éƒ¨ç½²

#### å¸¸è§„éƒ¨ç½²

```bash
npm run build
npm start
```

#### Docker éƒ¨ç½²

1. **æ„å»ºé•œåƒ**

```bash
docker build -t ptype .
```

2. **è¿è¡Œå®¹å™¨**

```bash
docker run -d \
  -p 3000:3000 \
  --name ptype \
  --env-file .env \
  ptype
```

> âš ï¸ **æ³¨æ„**ï¼šç¡®ä¿ `.env` æ–‡ä»¶ä¸­åŒ…å«æ­£ç¡®çš„ `DATABASE_URL` ä»¥åŠå…¶ä»–å¿…è¦çš„ç¯å¢ƒå˜é‡ã€‚
> å¦‚æœè¿æ¥å®¿ä¸»æœºæ•°æ®åº“ï¼Œè¯·å°† `localhost` æ›¿æ¢ä¸º `host.docker.internal` (Mac/Windows) æˆ–å®¿ä¸»æœº IP (Linux)ã€‚

---

## ğŸ” å®‰å…¨æœºåˆ¶

PType å†…ç½®äº†å¤šå±‚å®‰å…¨é˜²æŠ¤æœºåˆ¶ï¼š

### ç”¨æˆ·è®¤è¯

- **JWT è®¤è¯** - ä½¿ç”¨ JSON Web Token è¿›è¡Œç”¨æˆ·èº«ä»½éªŒè¯
- **HttpOnly Cookie** - Token å­˜å‚¨åœ¨ HttpOnly Cookie ä¸­ï¼Œé˜²æ­¢ XSS æ”»å‡»
- **Secure Cookie** - ç”Ÿäº§ç¯å¢ƒï¼ˆHTTPSï¼‰è‡ªåŠ¨å¯ç”¨ Secure æ ‡å¿—

> âš ï¸ **HTTP ç¯å¢ƒé…ç½®**ï¼šå¦‚æœæœåŠ¡å™¨æœªé…ç½® HTTPSï¼Œéœ€è¦åœ¨ `.env` ä¸­è®¾ç½® `SECURE_COOKIES=false`

### è¯·æ±‚ç­¾åç³»ç»Ÿ

æ‰€æœ‰æ•æ„Ÿçš„å†™æ“ä½œï¼ˆç™»å½•ã€æ³¨å†Œã€ä¿å­˜æˆç»©ç­‰ï¼‰éƒ½éœ€è¦æºå¸¦æœ‰æ•ˆçš„è¯·æ±‚ç­¾åã€‚

**å®‰å…¨ç‰¹æ€§ï¼š**
- â±ï¸ **æ—¶é—´æˆ³éªŒè¯** - ç­¾å 5 åˆ†é’Ÿåè‡ªåŠ¨è¿‡æœŸ
- ğŸ”„ **Nonce é˜²é‡æ”¾** - æ¯ä¸ªç­¾ååªèƒ½ä½¿ç”¨ä¸€æ¬¡
- ğŸ”’ **æ•°æ®å®Œæ•´æ€§** - éªŒè¯è¯·æ±‚æ•°æ®æœªè¢«ç¯¡æ”¹
- ğŸŒ **æµè§ˆå™¨æŒ‡çº¹** - å¢åŠ è¯·æ±‚å”¯ä¸€æ€§ï¼Œé˜²æ­¢è·¨è®¾å¤‡é‡æ”¾
- ğŸ” **å¤šè½® HMAC** - å¢åŠ é€†å‘ç ´è§£éš¾åº¦

è¯¦ç»†æ–‡æ¡£è¯·å‚é˜… [src/lib/security/README.md](./src/lib/security/README.md)

---

## ğŸ¤ å‚ä¸è´¡çŒ®

æˆ‘ä»¬éå¸¸æ¬¢è¿ç¤¾åŒºçš„è´¡çŒ®ï¼æ— è®ºæ˜¯ä¿®å¤ Bugã€æ·»åŠ æ–°åŠŸèƒ½ï¼Œè¿˜æ˜¯ä¸°å¯Œä»£ç ç»ƒä¹ åº“ã€‚

1. **Fork** æœ¬ä»“åº“
2. åˆ›å»ºä½ çš„ç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤ä½ çš„æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ä¸€ä¸ª **Pull Request**

### å¦‚ä½•æ·»åŠ æ–°çš„ç»ƒä¹ ä»£ç ï¼Ÿ

æ‰€æœ‰ä»£ç åº“æ–‡ä»¶ä½äº `/src/lib/code-libraries/`ã€‚
ä½ å¯ä»¥å‚è€ƒç°æœ‰çš„ `python.ts` æˆ– `java.ts` æ ¼å¼ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„è¯­è¨€æ–‡ä»¶å¹¶åœ¨ `index.ts` ä¸­å¯¼å‡ºã€‚

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº **MIT è®¸å¯è¯** å¼€æºã€‚è¯¦æƒ…è¯·å‚é˜… [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

## ğŸŒŸ Star History

<div align="center">
  <a href="https://star-history.com/#anYuJia/ptype&Date">
    <img src="https://api.star-history.com/svg?repos=anYuJia/ptype&type=Date" alt="Star History Chart">
  </a>
</div>

<br/>

<div align="center">
  <b>å¦‚æœè§‰å¾— PType å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ï¸ Star æ”¯æŒä¸€ä¸‹ï¼</b>
  <br/>
  <sub>Made with â¤ï¸ by <a href="https://github.com/anYuJia">anYuJia</a></sub>
</div>
